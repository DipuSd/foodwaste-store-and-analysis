<%- include('partial/header.ejs') %>

<div class="container mt-5">
  <div class="row">
    <div class="col-md-3 scrollable-table">
      <h5>Country Table</h5>
      <div class="table-container">
        <table class="table table-bordered">
          <!-- Table header -->
          <thead>
            <tr>
              <th>ID</th>
              <th>Name</th>
              <th>Continent</th>
            </tr>
          </thead>
          <!-- Table body (data from Express.js API) -->
          <tbody>
            <!-- remove later -->
            <% countries = countries || [] %>
            <!-- remove later -->
            <% countries.forEach(country => { %>
            <tr>
              <td><%= country.countryID %></td>
              <td><%= country.countryName %></td>
              <td><%= country.continent %></td>
            </tr>
            <% }) %>
          </tbody>
        </table>
      </div>
    </div>

    <div class="col-md-3 scrollable-table">
      <h5>City Table</h5>
      <div class="table-container">
        <table class="table table-bordered">
          <!-- Table header -->
          <thead>
            <tr>
              <th>ID</th>
              <th>Name</th>
              <th>Country ID</th>
            </tr>
          </thead>
          <!-- Table body (data from Express.js API) -->
          <tbody>
            <!-- remove later -->
            <% cities = cities || [] %>
            <!-- remove later -->
            <% cities.forEach(city => { %>
            <tr>
              <td><%= city.cityID %></td>
              <td><%= city.cityName %></td>
              <td><%= city.countryID %></td>
            </tr>
            <% }) %>
          </tbody>
        </table>
      </div>
    </div>

    <div class="col-md-3 scrollable-table">
      <h5>Source Table</h5>
      <div class="table-container">
        <table class="table table-bordered">
          <!-- Table header -->
          <thead>
            <tr>
              <th>ID</th>
              <th>Name</th>
            </tr>
          </thead>
          <!-- Table body (data from Express.js API) -->
          <tbody>
            <!-- remove later -->
            <% sources = sources || [] %>
            <!-- remove later -->
            <% sources.forEach(source => { %>
            <tr>
              <td><%= source.sourceID %></td>
              <td><%= source.sourceName %></td>
            </tr>
            <% }) %>
          </tbody>
        </table>
      </div>
    </div>

    <div class="col-md-3 scrollable-table">
      <h5>Food Waste Data Category Table</h5>
      <div class="table-container">
        <table class="table table-bordered">
          <!-- Table header -->
          <thead>
            <tr>
              <th>ID</th>
              <th>Category</th>
            </tr>
          </thead>
          <!-- Table body (data from Express.js API) -->
          <tbody>
            <!-- remove later -->
            <% categories = categories || [] %>
            <!-- remove later -->
            <% categories.forEach(category => { %>
            <tr>
              <td><%= category.categoryID %></td>
              <td><%= category.wasteCategory %></td>
            </tr>
            <% }) %>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- The form for contributing food waste data -->
  <form action="/food-waste-data" method="post">
    <div class="container mt-5">
      <h2 class="mb-4">Food Waste Data Form</h2>

      <form action="/food-waste-data" method="post">
        <div class="form-group">
          <label for="sourceName">Source Name:</label>
          <input
            type="text"
            class="form-control"
            id="sourceName"
            name="sourceName"
            required
          />
        </div>

        <div class="form-group">
          <label for="cityName">City Name:</label>
          <input
            type="text"
            class="form-control"
            id="cityName"
            name="cityName"
            required
          />
        </div>

        <div class="form-group">
          <label for="countryName">Country Name:</label>
          <input
            type="text"
            class="form-control"
            id="countryName"
            name="countryName"
            required
          />
        </div>

        <div class="form-group">
          <label for="reason">Reason:</label>
          <textarea
            class="form-control"
            id="reason"
            name="reason"
            rows="3"
            required
          ></textarea>
        </div>

        <div class="form-group">
          <label for="quantity">Quantity:</label>
          <input
            type="number"
            class="form-control"
            id="quantity"
            name="quantity"
            required
          />
        </div>

        <div class="form-group">
          <label for="wasteGenerationDate">Waste Generation Date:</label>
          <input
            type="date"
            class="form-control"
            id="wasteGenerationDate"
            name="wasteGenerationDate"
            required
          />
        </div>

        <!-- Contribution Time (System Time) will be handled server-side -->

        <!-- Contribution Date (System Date) will be handled server-side -->

        <div class="form-group">
          <label for="foodWasteCategory"
            >Food Waste Category (comma-separated):</label
          >
          <input
            type="text"
            class="form-control"
            id="foodWasteCategory"
            name="foodWasteCategory"
            required
          />
          <small class="form-text text-muted"
            >Enter multiple categories separated by commas (e.g., Fruits,
            Vegetables).</small
          >
        </div>

        <button type="submit" class="btn btn-primary">Submit</button>
      </form>
    </div>
  </form>
</div>

<style>
  .scrollable-table {
    max-height: 400px;
    overflow-y: auto;
  }

  .table-container {
    max-height: 100%;
  }
</style>

<%- include('partial/footer.ejs') %>
